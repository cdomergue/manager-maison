<div class="min-h-screen bg-gray-100">
  <header class="bg-white shadow">
    <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between gap-4">
        <h1 class="text-3xl font-bold text-gray-900 flex items-center">
          <img ngSrc="/assets/maison.png" alt="Maison" width="72" height="72" />Maison
        </h1>
        <div class="flex items-center gap-4 text-sm text-gray-600">
          <div class="flex items-center gap-2">
            <div
              class="w-2.5 h-2.5 rounded-full"
              [class]="isCheckingBackground() ? 'bg-yellow-400 animate-pulse' : 'bg-green-500'"
              [title]="isCheckingBackground() ? 'V√©rification en cours‚Ä¶' : 'Connect√©'"
            ></div>
            <span>{{ isCheckingBackground() ? "V√©rification‚Ä¶" : "En ligne" }}</span>
            @if (lastBackgroundCheck()) {
              <span>‚Ä¢ {{ lastBackgroundCheck() | date: "HH:mm" }}</span>
            }
          </div>
          <div class="flex items-center gap-2">
            <a
              routerLink="/notifications"
              class="px-3 py-2 rounded-md hover:bg-gray-100"
              title="Configuration des notifications"
              >üîî</a
            >
            <a routerLink="/settings" class="px-3 py-2 rounded-md hover:bg-gray-100" title="Param√®tres">‚öôÔ∏è</a>
          </div>
        </div>
      </div>
    </div>
  </header>
  <nav class="bg-white border-b">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex gap-2 py-3 text-sm">
        <a
          routerLink="/"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
          class="px-3 py-2 rounded-md border transition-colors text-gray-700 hover:text-blue-600 hover:border-blue-200"
        >
          T√¢ches
        </a>
        <a
          routerLink="/shopping"
          routerLinkActive="active"
          class="px-3 py-2 rounded-md border transition-colors text-gray-700 hover:text-blue-600 hover:border-blue-200"
        >
          Liste de courses
        </a>
        <a
          routerLink="/notes"
          routerLinkActive="active"
          class="px-3 py-2 rounded-md border transition-colors text-gray-700 hover:text-blue-600 hover:border-blue-200"
        >
          Notes
        </a>
      </div>
    </div>
  </nav>
  <main class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
    <div class="bg-white shadow rounded-lg p-6">
      <router-outlet />
    </div>
  </main>
  <app-user-select />
  @if (loading.isLoading()) {
    <div class="fixed inset-0 z-50 grid place-items-center bg-black/20 pointer-events-none">
      <div class="h-12 w-12 rounded-full border-4 border-blue-500 border-t-transparent animate-spin"></div>
    </div>
  }
  <footer class="bg-white border-t mt-12">
    <div class="container mx-auto px-4 py-6">
      <div class="text-center text-gray-600">
        <p>Cr√©er par Christophe & Laurence</p>
        <p class="text-sm mt-1">Application de gestion de la maison</p>
      </div>
    </div>
  </footer>
</div>
